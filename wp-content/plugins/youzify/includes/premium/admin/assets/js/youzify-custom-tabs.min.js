!function(n){"use strict";n(document).ready(function(){n(document).on("click","#youzify-add-custom-tab",function(t){t.preventDefault();var e=n(".youzify-custom-tab-name span"),o=n(this).closest("form").find("#youzify-custom-tabs-form"),i="youzify_custom_tabs[youzify_custom_tab_"+youzify_nextTab+"]",a=n.youzify_getAddData(o,"youzify_tab"),u={slug:a.slug,value:a.title,form:o,selector:e,type:"text",tab_link:a.link,tab_type:a.type,tab_title:a.title,tab_content:a.content};if(!n.validate_tabs_data(u))return!1;n("#youzify_custom_tabs").prepend('<li class="youzify-custom-tab-item" data-tab-name="youzify_custom_tab_'+youzify_nextTab+'"><h2 class="youzify-custom-tab-name"><i class="youzify-custom-tab-icon fas fa-angle-right"></i><span>'+a.title+'</span></h2><input type="hidden" name="'+i+'[slug]" value="'+a.slug+'" ><input type="hidden" name="'+i+'[link]" value="'+a.link+'" ><input type="hidden" name="'+i+'[type]" value="'+a.type+'" ><input type="hidden" name="'+i+'[title]" value="'+a.title+'" ><input type="hidden" name="'+i+'[content]" value="'+encodeURIComponent(a.content)+'" ><input type="hidden" name="'+i+'[display_sidebar]" value="'+a.display_sidebar+'" ><input type="hidden" name="'+i+'[display_nonloggedin]" value="'+a.display_nonloggedin+'" ><a class="youzify-edit-item youzify-edit-custom-tab"></a><a class="youzify-delete-item youzify-delete-custom-tab"></a></li>'),n.youzify_HideModal(o),youzify_nextTab++}),n(document).on("click",".youzify-edit-custom-tab",function(t){var e=n(this).closest(".youzify-custom-tab-item"),o=n("#youzify-custom-tabs-form");n.youzify_EditForm({button_id:"youzify-update-custom-tab",form_title:Youzify_Custom_Tabs.update_tab,form:o,item:e})}),n(document).on("click","#youzify-update-custom-tab",function(t){t.preventDefault();var e=".youzify-custom-tab-name span",o=n("#youzify-custom-tabs-form"),i=n.youzify_getItemObject(o),a=n.youzify_getNewData(o,"keyToVal"),u={old_title:i.find(e).text(),slug:a.slug,value:a.title,form:o,selector:n(e),type:"text",tab_link:a.link,tab_type:a.type,tab_title:a.title,tab_content:a.content};if(!n.validate_tabs_data(u))return!1;n.youzify_updateFieldsData(o)}),n.validate_tabs_data=function(t){var e=n.extend({},t);if(null==e.tab_title||""==n.trim(e.tab_title))return n.ShowPanelMessage({msg:Youzify_Custom_Tabs.tab_title_empty,type:"error"}),!1;if(n.youzify_isAlreadyExist({old_title:e.old_title,selector:e.selector,value:e.value,type:"text"}))return n.ShowPanelMessage({msg:Youzify.name_exist,type:"error"}),!1;if("link"==e.tab_type){if(null==e.tab_link||""==n.trim(e.tab_link))return n.ShowPanelMessage({msg:Youzify_Custom_Tabs.tab_url_empty,type:"error"}),!1}else if("shortcode"==e.tab_type&&(null==e.tab_content||""==n.trim(e.tab_content)))return n.ShowPanelMessage({msg:Youzify_Custom_Tabs.tab_code_empty,type:"error"}),!1;return!0},n(document).on("click",".youzify-delete-custom-tab",function(){n(this).closest("li").remove(),n(".youzify-custom-tab-item")[0]||n("#youzify_custom_tabs").append('<p class="youzify-no-content youzify-no-custom-tabs">'+Youzify_Custom_Tabs.no_custom_tabs+"</p>")}),n(document).on("change","input[name=youzify_tab_type]",function(){var t=".youzify-custom-tabs-shortcode-items",e=".youzify-custom-tabs-link-item",o=n(this).closest(".youzify-custom-tabs-form");"shortcode"==this.value?o.find(e).fadeToggle(400,function(){o.find(t).fadeToggle(400)}):o.find(t).fadeToggle(400,function(){o.find(e).fadeToggle(400)})})})}(jQuery);