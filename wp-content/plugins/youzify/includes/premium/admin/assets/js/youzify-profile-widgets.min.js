!function(d){"use strict";d(document).ready(function(){d(document).on("click","#youzify-add-custom-widget",function(t){t.preventDefault();var e=d(".youzify-custom-widget-name span"),i=d("#youzify-custom-widgets-form"),o="youzify_custom_widgets[youzify_custom_widget_"+youzify_nextCustomWidget+"]",u=d.youzify_getAddData(i,"youzify_widget"),y={value:u.name,form:i,selector:e,type:"text"};if(!d.validate_widgets_data(y))return!1;d("#youzify_custom_widgets").prepend('<li class="youzify-custom-widget-item" data-widget-name="youzify_custom_widget_'+youzify_nextCustomWidget+'"><h2 class="youzify-custom-widget-name"><i class="youzify-custom-widget-icon '+u.icon+'"></i><span>'+u.name+'</span></h2><input type="hidden" name="'+o+'[icon]" value="'+u.icon+'" ><input type="hidden" name="'+o+'[name]" value="'+u.name+'" ><input type="hidden" name="'+o+'[content]" value="'+encodeURIComponent(u.content)+'" ><input type="hidden" name="'+o+'[display_title]" value="'+u.display_title+'" ><input type="hidden" name="'+o+'[display_padding]" value="'+u.display_padding+'" ><a class="youzify-edit-item youzify-edit-custom-widget"></a><a class="youzify-delete-item youzify-delete-custom-widget"></a></li>'),d.youzify_HideModal(i),youzify_nextCustomWidget++}),d(document).on("click",".youzify-edit-custom-widget",function(t){var e=d(this).closest(".youzify-custom-widget-item"),i=d("#youzify-custom-widgets-form");d.youzify_EditForm({button_id:"youzify-update-custom-widget",form_title:Youzify_Custom_Widgets.update_widget,form:i,item:e})}),d(document).on("click","#youzify-update-custom-widget",function(t){t.preventDefault();var e=".youzify-custom-widget-name span",i=d("#youzify-custom-widgets-form"),o=d.youzify_getItemObject(i),u=d.youzify_getNewData(i,"keyToVal"),y={old_title:o.find(e).text(),value:u.name,form:i,selector:d(e),type:"text"};if(!d.validate_widgets_data(y))return!1;d.youzify_updateFieldsData(i)}),d.validate_widgets_data=function(t){var e=d.extend({},t);return!d.isDataEmpty(e.form)&&(!d.youzify_isAlreadyExist({old_title:e.old_title,selector:e.selector,value:e.value,type:"text"})||(d.ShowPanelMessage({msg:Youzify.name_exist,type:"error"}),!1))},d(document).on("click",".youzify-delete-custom-widget",function(){d(this).closest("li").remove(),d(".youzify-custom-widget-item")[0]||d("#youzify_custom_widgets").append('<p class="youzify-no-content youzify-no-custom-widgets">'+Youzify_Custom_Widgets.no_custom_widgets+"</p>")})})}(jQuery);